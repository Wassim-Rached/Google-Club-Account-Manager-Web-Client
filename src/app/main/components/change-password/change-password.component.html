<form [formGroup]="formGroup" (ngSubmit)="changePassword()" class="container mt-4">
  <div class="form-group">
    <label for="oldPassword">
      Old Password
      <span class="text-danger">*</span>
    </label>
    <input
      id="oldPassword"
      type="password"
      formControlName="oldPassword"
      class="form-control"
      [ngClass]="{ 'is-invalid': formGroup.get('oldPassword').invalid && formGroup.get('oldPassword').touched }"
    />
    <div *ngIf="formGroup.get('oldPassword').invalid && formGroup.get('oldPassword').touched" class="invalid-feedback">
      Old password is required
    </div>
  </div>
  <div class="form-group">
    <label for="newPassword">
      New Password
      <span class="text-danger">*</span>
    </label>
    <input
      id="newPassword"
      type="password"
      formControlName="newPassword"
      class="form-control"
      [ngClass]="{ 'is-invalid': formGroup.get('newPassword').invalid && formGroup.get('newPassword').touched }"
    />
    <div *ngIf="formGroup.get('newPassword').invalid && formGroup.get('newPassword').touched" class="invalid-feedback">
      New password is required
    </div>
  </div>
  <div class="form-group">
    <label for="confirmPassword">
      Confirm Password
      <span class="text-danger">*</span>
    </label>
    <input
      id="confirmPassword"
      type="password"
      formControlName="confirmPassword"
      class="form-control"
      [ngClass]="{ 'is-invalid': formGroup.get('confirmPassword').invalid && formGroup.get('confirmPassword').touched }"
    />
    <div *ngIf="formGroup.get('confirmPassword').invalid && formGroup.get('confirmPassword').touched" class="invalid-feedback">
      Confirm password is required and must match the new password
    </div>
  </div>
  <div class="d-flex justify-content-end">
    <button type="submit" [disabled]="isSubmitting || !formGroup.valid" class="btn btn-primary mt-3 d-flex align-items-center">
      <span>{{ isSubmitting ? 'Changing Password...' : 'Change Password' }}</span>
      <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
    </button>
  </div>
</form>
